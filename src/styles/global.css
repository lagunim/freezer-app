@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply text-slate-50 min-h-screen antialiased;
    background: 
      repeating-linear-gradient(
        180deg,
        #0f172a 0%,
        #172554 15%,
        #1e1b4b 30%,
        #581c87 45%,
        #701a75 60%,
        #581c87 75%,
        #1e1b4b 90%,
        #172554 105%,
        #0f172a 120%
      );
    background-size: 100% 200vh;
    background-attachment: fixed;
  }
}

/* Transiciones entre páginas (Freezer App <-> Price Hunter) */
@media (prefers-reduced-motion: no-preference) {
  @view-transition {
    navigation: auto;
  }

  ::view-transition-old(root) {
    animation: appFadeOut 220ms cubic-bezier(0.4, 0, 1, 1) both;
  }

  ::view-transition-new(root) {
    animation: appFadeIn 300ms cubic-bezier(0.22, 1, 0.36, 1) both;
  }

  /* Fallback visual sutil para navegadores sin View Transition */
  .page-shell {
    animation: pageEnter 260ms cubic-bezier(0.22, 1, 0.36, 1);
  }
}

@keyframes appFadeOut {
  from {
    opacity: 1;
    filter: blur(0px);
    transform: scale(1);
  }
  to {
    opacity: 0;
    filter: blur(2px);
    transform: scale(0.995);
  }
}

@keyframes appFadeIn {
  from {
    opacity: 0;
    filter: blur(2px);
    transform: scale(1.005);
  }
  to {
    opacity: 1;
    filter: blur(0px);
    transform: scale(1);
  }
}

@keyframes pageEnter {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Transiciones suaves para alertas con rebote */
.alert-enter {
  animation: alertFadeIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
}

@keyframes alertFadeIn {
  0% {
    opacity: 0;
    transform: translateY(-12px) scale(0.9);
  }
  60% {
    opacity: 1;
    transform: translateY(2px) scale(1.02);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* Animación para el hint de swipe - chevron pulsante con rebote */
@keyframes chevronPulse {
  0%, 100% {
    opacity: 0.5;
    transform: translateX(0) scale(1);
  }
  40% {
    opacity: 0.9;
    transform: translateX(-5px) scale(1.1);
  }
  60% {
    opacity: 0.85;
    transform: translateX(-3px) scale(1.05);
  }
}

/* Animación sutil de hint inicial para la primera tarjeta con rebote */
@keyframes swipeHint {
  0%, 100% {
    transform: translateX(0);
  }
  25% {
    transform: translateX(-10px);
  }
  40% {
    transform: translateX(-14px);
  }
  50% {
    transform: translateX(-12px);
  }
  75% {
    transform: translateX(-8px);
  }
}

@keyframes slideInLeft {
  0% {
    opacity: 0;
    transform: translateX(-30px) scale(0.8);
  }
  60% {
    opacity: 1;
    transform: translateX(5px) scale(1.05);
  }
  80% {
    transform: translateX(-2px) scale(0.98);
  }
  100% {
    opacity: 1;
    transform: translateX(0) scale(1);
  }
}

/* Clases de utilidad para swipe con rebote */
@layer utilities {
  .animate-chevron-pulse {
    animation: chevronPulse 2.5s cubic-bezier(0.34, 1.56, 0.64, 1) infinite;
  }
  
  .animate-swipe-hint {
    animation: swipeHint 1.8s cubic-bezier(0.34, 1.56, 0.64, 1);
  }
}

